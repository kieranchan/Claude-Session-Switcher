<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Claude Switcher</title>
    <style>
        body { width: 340px; padding: 15px; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f9f9f9; display: flex; flex-direction: column; height: 100%; min-height: 500px;}
        h3 { margin-top: 0; color: #333; border-bottom: 2px solid #d97757; padding-bottom: 10px; display: flex; align-items: center; justify-content: space-between; }

        .input-group { background: white; padding: 12px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        input { width: 100%; box-sizing: border-box; margin-bottom: 8px; padding: 8px; border: 1px solid #ddd; border-radius: 4px; outline: none; transition: border 0.3s; }
        input:focus { border-color: #d97757; }

        button { border: none; padding: 6px 10px; border-radius: 4px; cursor: pointer; font-weight: 600; transition: all 0.2s; font-size: 13px;}
        button:hover { opacity: 0.9; }

        #grabBtn { background: #666; color: white; width: 40px; margin-bottom: 8px; }
        #addBtn { background-color: #d97757; color: white; flex: 2; padding: 8px; }
        #addBtn.updating { background-color: #2980b9; }
        #clearBtn { background-color: #eee; color: #333; flex: 1; border: 1px solid #ddd; padding: 8px; }

        #searchBox { margin-top: 10px; border-radius: 20px; text-align: center; background: #f1f1f1; font-size: 12px; border: 1px solid #eee; padding: 5px;}

        /* --- æ–°å¢ï¼šIP è¯¦ç»†ä¿¡æ¯å¡ç‰‡ --- */
        .ip-card {
            background: #fff;
            border: 1px solid #eee;
            border-radius: 6px;
            margin-top: 8px;
            padding: 8px;
            font-size: 11px;
            color: #555;
        }
        .ip-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px; }
        .ip-row:last-child { margin-bottom: 0; }
        .ip-val { font-weight: bold; color: #333; cursor: pointer;}
        .ip-geo { color: #d97757; }

        /* å®‰å…¨æ£€æŸ¥æŒ‰é’® */
        .check-btn {
            background: none; border: 1px solid #ddd; padding: 1px 6px; font-size: 10px; border-radius: 10px; color: #666;
            text-decoration: none; display: inline-block; cursor: pointer;
        }
        .check-btn:hover { background: #d97757; color: white; border-color: #d97757; }

        ul { list-style: none; padding: 0; margin-top: 5px; flex-grow: 1; overflow-y: auto; max-height: 260px; }

        li {
            background: white; border-bottom: 1px solid #eee; padding: 10px;
            display: flex; align-items: center; justify-content: space-between;
            transition: background 0.2s; cursor: pointer;
        }
        li:active { cursor: grabbing; background-color: #f0f0f0; }
        li:hover { background-color: #fff0eb; }
        li.active { border-left: 3px solid #2ecc71; }
        li.limited { background-color: #fff0f0; border-left: 3px solid #e74c3c; opacity: 0.9; }
        li.dragging { opacity: 0.5; background: #e0e0e0; border: 2px dashed #999; cursor: grabbing; }
        li.drag-over { border-top: 2px solid #d97757; }

        .account-info { flex-grow: 1; overflow: hidden; margin-right: 5px; cursor: pointer; user-select: none; pointer-events: auto; }
        .account-name { font-weight: 600; font-size: 14px; display: block; }
        .account-key { font-size: 11px; color: #999; display: block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

        .current-badge { font-size: 10px; background: #2ecc71; color: white; padding: 1px 5px; border-radius: 4px; margin-left: 5px; display: none; vertical-align: middle;}
        .limit-badge { font-size: 10px; background: #e74c3c; color: white; padding: 1px 5px; border-radius: 4px; margin-left: 5px; display: none; vertical-align: middle;}
        li.active .current-badge { display: inline-block; }
        li.limited .limit-badge { display: inline-block; }

        .action-group { display: flex; gap: 4px; }
        .icon-btn { padding: 4px 6px; background: #f0f0f0; color: #555; font-size: 14px; border-radius: 4px; }
        .icon-btn:hover { background: #e0e0e0; color: #000; }
        .del-btn:hover { background: #ffebeb; color: red; }

        .footer-tools { margin-top: auto; display: flex; justify-content: space-between; gap: 10px; padding-top: 10px; border-top: 1px solid #eee; }
        .footer-btn { flex: 1; background: #fff; border: 1px solid #ccc; color: #555; font-size: 12px; }
        .footer-btn:hover { background: #f5f5f5; border-color: #aaa; }
    </style>
</head>
<body>

<h3>Claude åŠ©æ‰‹</h3>

<div class="input-group">
    <input type="text" id="accName" placeholder="è´¦å·å¤‡æ³¨ (å¦‚: Work)" />
    <div style="display: flex; gap: 5px;">
        <input type="password" id="accKey" placeholder="SessionKey" />
        <button id="grabBtn" title="ä¸€é”®è·å–å½“å‰ç™»å½•çš„Key">ğŸ“¥</button>
    </div>
    <div style="display: flex; gap: 5px;">
        <button id="addBtn">ğŸ’¾ ä¿å­˜è´¦å·</button>
        <button id="clearBtn" title="é€€å‡ºä¼šè¯ / å–æ¶ˆç¼–è¾‘">ğŸ§¹ é‡ç½®</button>
    </div>
</div>

<input type="text" id="searchBox" placeholder="ğŸ” æœç´¢å·²ä¿å­˜çš„è´¦å·..." />

<div class="ip-card" id="ipCard" title="ç‚¹å‡»åˆ·æ–°ç½‘ç»œä¿¡æ¯">
    <div class="ip-row">
        <span>ğŸ“¡ IP: <span id="ipText" class="ip-val">æ£€æµ‹ä¸­...</span></span>
        <span id="safetyBtn" class="check-btn" title="æŸ¥çœ‹æ­¤ IP æ¬ºè¯ˆåˆ†æ•°">ğŸ›¡ï¸ å®‰å…¨ä½“æ£€</span>
    </div>
    <div class="ip-row">
        <span>ğŸ“ <span id="geoText">...</span></span>
        <span id="ispText" style="max-width: 120px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">...</span>
    </div>
</div>

<ul id="accountList"></ul>
<input type="file" id="fileInput" accept=".json,.txt" style="display: none;" />

<div class="footer-tools">
    <button id="exportBtn" class="footer-btn">ğŸ“¤ å¯¼å‡ºå¤‡ä»½</button>
    <button id="importBtn" class="footer-btn">ğŸ“¥ å¯¼å…¥å¤‡ä»½</button>
</div>

<script src="popup.js"></script>
</body>
</html>