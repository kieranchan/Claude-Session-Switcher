<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Claude Account Switcher</title>
    <link rel="stylesheet" href="popup.css">
    <!-- Inline SVG Defs for reuse -->
    <style>
        .svg-icon { width: 16px; height: 16px; fill: none; stroke: currentColor; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; }
    </style>
</head>
<body>

<header>
    <div class="brand">
        <img src="assets/icon.png" width="20" height="20" alt="Logo">
        <span>Claude Switcher</span>
    </div>
    <div class="header-actions">
        <!-- Theme Toggle -->
        <button id="themeBtn" title="åˆ‡æ¢ä¸»é¢˜">
            <svg class="svg-icon" viewBox="0 0 24 24"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
        </button>
        <!-- Settings / Tools Toggle -->
        <button id="toolsToggle" title="å·¥å…·">
            <svg class="svg-icon" viewBox="0 0 24 24"><circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle></svg>
        </button>
        <!-- Tools Dropdown (Moved to Header) -->
        <div class="tools-dropdown" id="toolsMenu">
            <button class="tools-item" id="exportBtn">ğŸ“¤ å¯¼å‡ºé…ç½®</button>
            <button class="tools-item" id="importBtn">ğŸ“¥ å¯¼å…¥é…ç½®</button>
            <div style="height:1px; background:#eee; margin:4px 0;"></div>
            <button class="tools-item" id="clearAllBtn" style="color: red;">âš ï¸ æ¸…ç©ºæ•°æ®</button>
        </div>
    </div>
</header>

<main>
    <div class="toolbar">
        <div class="search-container">
            <span class="search-icon">
                <svg class="svg-icon" style="width:14px;height:14px;" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
            </span>
            <input type="text" id="searchBox" class="search-input" placeholder="æœç´¢è´¦å·...">
        </div>
        <button id="toggleAddBtn" class="add-btn-main" title="æ·»åŠ æ–°è´¦å·">+</button>
    </div>

    <div id="modalOverlay" class="modal-overlay"></div>

    <div id="editForm" class="modal-form">
        <h3 id="modalTitle">æ·»åŠ è´¦å·</h3>
        <div class="form-row">
            <input type="text" id="inputName" class="form-input" placeholder="è´¦å·å¤‡æ³¨ (å¦‚: Work)" autocomplete="off">
        </div>
        <div class="form-row">
            <input type="text" id="inputKey" class="form-input" placeholder="sk-ant-..." autocomplete="off">
            <button id="grabBtn" class="btn btn-grab" title="è‡ªåŠ¨è·å–ç½‘é¡µ Key">
                <svg class="svg-icon" viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
            </button>
        </div>
        <div class="form-actions">
            <button id="cancelEditBtn" class="btn btn-secondary">å–æ¶ˆ</button>
            <button id="saveBtn" class="btn btn-primary">ä¿å­˜</button>
        </div>
    </div>

    <ul id="accountList">
        <!-- List items injected by JS -->
    </ul>
</main>

<div class="status-bar">
    <div class="net-info" id="netInfo" title="ç‚¹å‡»åˆ·æ–° IP">
        <div class="net-badge">
            <div class="status-dot" id="netDot"></div>
            <span id="ipText">æ£€æµ‹ä¸­...</span>
        </div>
        <button id="ipCheckBtn" class="icon-btn" title="å»ç½‘ç«™æŸ¥çœ‹è¯¦æƒ…">
            <svg class="svg-icon" style="width:12px;height:12px;" viewBox="0 0 24 24"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>
        </button>
        <span id="geoText" style="color: #999; margin-left: 5px;">-</span>
    </div>
</div>

<input type="file" id="fileInput" accept=".json,.txt" style="display: none;">
<div id="toast" class="toast"></div>

<script src="popup.js"></script>
</body>
</html>