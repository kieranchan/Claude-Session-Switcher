<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Claude Switcher</title>
    <style>
        body { width: 340px; padding: 15px; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f9f9f9; display: flex; flex-direction: column; height: 100%; min-height: 450px;}
        h3 { margin-top: 0; color: #333; border-bottom: 2px solid #d97757; padding-bottom: 10px; display: flex; align-items: center; justify-content: space-between; }

        /* è¾“å…¥æ¡†åŒºåŸŸ */
        .input-group { background: white; padding: 12px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        input { width: 100%; box-sizing: border-box; margin-bottom: 8px; padding: 8px; border: 1px solid #ddd; border-radius: 4px; outline: none; transition: border 0.3s; }
        input:focus { border-color: #d97757; }

        /* æŒ‰é’®é€šç”¨ */
        button { border: none; padding: 6px 10px; border-radius: 4px; cursor: pointer; font-weight: 600; transition: all 0.2s; font-size: 13px;}
        button:hover { opacity: 0.9; }

        /* é¡¶éƒ¨æ“ä½œåŒºæŒ‰é’® */
        #grabBtn { background: #666; color: white; width: 40px; margin-bottom: 8px; }
        #addBtn { background-color: #d97757; color: white; flex: 2; padding: 8px; }
        #addBtn.updating { background-color: #2980b9; }
        #clearBtn { background-color: #eee; color: #333; flex: 1; border: 1px solid #ddd; padding: 8px; }

        /* æœç´¢æ¡† */
        #searchBox { margin-top: 10px; border-radius: 20px; text-align: center; background: #f1f1f1; font-size: 12px; border: 1px solid #eee; padding: 5px;}

        /* åˆ—è¡¨åŒºåŸŸ */
        ul { list-style: none; padding: 0; margin-top: 5px; flex-grow: 1; overflow-y: auto; max-height: 300px; }

        li {
            background: white;
            border-bottom: 1px solid #eee;
            padding: 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: background 0.2s;

            /* --- ä¿®å¤ç‚¹ 1: ç»Ÿä¸€å…‰æ ‡ï¼Œæ¶ˆé™¤é—ªçƒ --- */
            cursor: pointer;
        }

        /* --- ä¿®å¤ç‚¹ 2: æŒ‰ä¸‹é¼ æ ‡æ—¶ï¼Œæ˜¾ç¤ºâ€œæŠ“ç´§â€çš„æ‰‹åŠ¿ï¼Œå¢åŠ æ‹–æ‹½æ„Ÿ --- */
        li:active {
            cursor: grabbing;
            background-color: #f0f0f0;
        }

        li:first-child { border-top-left-radius: 8px; border-top-right-radius: 8px; }
        li:last-child { border-bottom-left-radius: 8px; border-bottom-right-radius: 8px; border-bottom: none; }
        li:hover { background-color: #fff0eb; }
        li.active { border-left: 3px solid #2ecc71; }

        /* æ‹–æ‹½è¿‡ç¨‹ä¸­çš„æ ·å¼ */
        li.dragging { opacity: 0.5; background: #e0e0e0; border: 2px dashed #999; cursor: grabbing; }
        li.drag-over { border-top: 2px solid #d97757; }

        .account-info {
            flex-grow: 1;
            overflow: hidden;
            margin-right: 5px;

            /* --- ä¿®å¤ç‚¹ 3: ä¿æŒä¸€è‡´ï¼Œç¡®ä¿ç‚¹å‡»æœ‰æ•ˆ --- */
            cursor: pointer;
            user-select: none;
            pointer-events: auto;
        }

        .account-name { font-weight: 600; font-size: 14px; display: block; }
        .account-key { font-size: 11px; color: #999; display: block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

        .current-badge { font-size: 10px; background: #2ecc71; color: white; padding: 1px 5px; border-radius: 4px; margin-left: 5px; display: none; vertical-align: middle;}
        li.active .current-badge { display: inline-block; }

        .action-group { display: flex; gap: 4px; }
        .icon-btn { padding: 4px 6px; background: #f0f0f0; color: #555; font-size: 14px; border-radius: 4px; }
        .icon-btn:hover { background: #e0e0e0; color: #000; }
        .del-btn:hover { background: #ffebeb; color: red; }

        /* åº•éƒ¨å·¥å…·æ  */
        .footer-tools { margin-top: auto; display: flex; justify-content: space-between; gap: 10px; padding-top: 10px; border-top: 1px solid #eee; }
        .footer-btn { flex: 1; background: #fff; border: 1px solid #ccc; color: #555; font-size: 12px; }
        .footer-btn:hover { background: #f5f5f5; border-color: #aaa; }
    </style>
</head>
<body>

<h3>Claude åŠ©æ‰‹</h3>

<div class="input-group">
    <input type="text" id="accName" placeholder="è´¦å·å¤‡æ³¨ (å¦‚: Work)" />

    <div style="display: flex; gap: 5px;">
        <input type="password" id="accKey" placeholder="SessionKey" />
        <button id="grabBtn" title="ä¸€é”®è·å–å½“å‰ç™»å½•çš„Key">ğŸ“¥</button>
    </div>

    <div style="display: flex; gap: 5px;">
        <button id="addBtn">ğŸ’¾ ä¿å­˜è´¦å·</button>
        <button id="clearBtn" title="é€€å‡ºä¼šè¯ / å–æ¶ˆç¼–è¾‘">ğŸ§¹ é‡ç½®</button>
    </div>
</div>

<input type="text" id="searchBox" placeholder="ğŸ” æœç´¢å·²ä¿å­˜çš„è´¦å·..." />

<ul id="accountList">
</ul>

<input type="file" id="fileInput" accept=".json,.txt" style="display: none;" />

<div class="footer-tools">
    <button id="exportBtn" class="footer-btn">ğŸ“¤ å¯¼å‡ºå¤‡ä»½</button>
    <button id="importBtn" class="footer-btn">ğŸ“¥ å¯¼å…¥å¤‡ä»½</button>
</div>

<script src="popup.js"></script>
</body>
</html>